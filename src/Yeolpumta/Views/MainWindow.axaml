<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:Yeolpumta.ViewModels"
        x:Class="Yeolpumta.Views.MainWindow"
        Width="1000" Height="700" MinWidth="900" MinHeight="600"
        Title="Yeolpumta"
        TransparencyLevelHint="None"
        SystemDecorations="Full"
        mc:Ignorable="d">
  <Grid ColumnDefinitions="220, *">
    <!-- Sidebar -->
    <Border Background="{DynamicResource ThemeBackgroundBrush}"/>
    <StackPanel Grid.Column="0" Spacing="8" Margin="12">
      <TextBlock Text="Yeolpumta" FontSize="20" FontWeight="SemiBold" Margin="0,4,0,12"/>
      <ItemsControl Items="{Binding Navigation}">
        <ItemsControl.ItemTemplate>
          <DataTemplate>
            <Button Content="{Binding Title}"
                    HorizontalAlignment="Stretch"
                    Classes="NavButton"
                    Command="{Binding DataContext.NavigateCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                    CommandParameter="{Binding Key}">
              <Button.Content>
                <StackPanel Orientation="Horizontal" Spacing="8">
                  <TextBlock Text="{Binding Icon}"/>
                  <TextBlock Text="{Binding Title}"/>
                </StackPanel>
              </Button.Content>
            </Button>
          </DataTemplate>
        </ItemsControl.ItemTemplate>
      </ItemsControl>
      <StackPanel Margin="0,16,0,0">
        <TextBlock Text="Upcoming" FontWeight="SemiBold"/>
        <ItemsControl Items="{Binding TasksVM.Upcoming}">
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <StackPanel Orientation="Horizontal" Spacing="6">
                <TextBlock Text="â€¢"/>
                <TextBlock Text="{Binding Title}"/>
              </StackPanel>
            </DataTemplate>
          </ItemsControl.ItemTemplate>
        </ItemsControl>
      </StackPanel>
    </StackPanel>

    <!-- Main content -->
    <Border Grid.Column="1" Padding="16">
      <ContentControl Content="{Binding CurrentViewModel}"/>
    </Border>
  </Grid>
</Window>
